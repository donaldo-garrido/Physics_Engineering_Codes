r1 = [0,2,0];
r2 = [0,0,0];
r3 = [5,5,0];
v1 = [.7,.35,0];
v2 = [0,0,0];
v3 = [0,0,0];
m1 = 0.00001;
m2 = 1;
m3 = 1*10^-9;
t = linspace(0,1,10000000);
G = 1;

for i = 1:1:length(t)


    %-------------------------------------------Velocidades-----------------------------------------

    vx1 = G*(((m3/(norm(r3-r1))^3)*(r3(1)-r1(1)))+((m2/(norm(r2-r1))^3)*(r2(1)-r1(1))))*t(i)+(v1(1));
    vy1 = G*(((m3/(norm(r3-r1))^3)*(r3(2)-r1(2)))+((m2/(norm(r2-r1))^3)*(r2(2)-r1(2))))*t(i)+(v1(2));
    vz1 = G*(((m3/(norm(r3-r1))^3)*(r3(3)-r1(3)))+((m2/(norm(r2-r1))^3)*(r2(3)-r1(3))))*t(i)+(v1(3));

    %-----------------------------------------------------------------------------------------------

    vx2 = G*(((m1/(norm(r2-r1))^3)*(r1(1)-r2(1)))+((m3/(norm(r3-r2))^3)*(r3(1)-r2(1))))*t(i)+(v2(1));
    vy2 = G*(((m1/(norm(r2-r1))^3)*(r1(2)-r2(2)))+((m3/(norm(r3-r2))^3)*(r3(2)-r2(2))))*t(i)+(v2(2));
    vz2 = G*(((m1/(norm(r2-r1))^3)*(r1(3)-r2(3)))+((m3/(norm(r3-r2))^3)*(r3(3)-r2(3))))*t(i)+(v2(3));

    %-----------------------------------------------------------------------------------------------

    vx3 = G*(((m1/(norm(r1-r3))^3)*(r1(1)-r3(1)))+((m2/(norm(r3-r2))^3)*(r2(1)-r3(1))))*t(i)+(v3(1));
    vy3 = G*(((m1/(norm(r1-r3))^3)*(r1(2)-r3(2)))+((m3/(norm(r3-r2))^3)*(r2(2)-r3(2))))*t(i)+(v3(2));
    vz3 = G*(((m1/(norm(r1-r3))^3)*(r1(3)-r3(3)))+((m3/(norm(r3-r2))^3)*(r2(3)-r3(3))))*t(i)+(v3(3));

    %---------------------------------------------Posicion------------------------------------------

    rx1 = vx1*t(i)+r1(1);
    ry1 = vy1*t(i)+r1(2);
    rz1 = vz1*t(i)+r1(3);

    %-----------------

    rx2 = vx2*t(i)+r2(1);
    ry2 = vy2*t(i)+r2(2);
    rz2 = vz2*t(i)+r2(3);

    %-----------------

    rx3 = vx3*t(i)+r3(1);
    ry3 = vy3*t(i)+r3(2);
    rz3 = vz3*t(i)+r3(3);

    %---------------------------------------Alamcenar-----------------------------------------------
    v1 = [vx1,vy1,vz1];
    v2 = [vx2,vy2,vz2];
    v3 = [vx3,vy3,vz3];   

    pos1x(i)=rx1;
    pos1y(i)=ry1;
    pos1z(i)=rz1;
    
    pos2x(i)=rx2;
    pos2y(i)=ry2;
    pos2z(i)=rz2;
    
    pos3x(i)=rx3;
    pos3y(i)=ry3;
    pos3z(i)=rz3;
    r1 = [rx1,ry1,rz1];
    r2 = [rx2,ry2,rz2];
    r3 = [rx3,ry3,rz3];

   

    plot3(r1(1),r1(2),r1(3),'*r');
    hold on
    plot3(r2(1),r2(2),r2(3),'*b');
    hold on
    plot3(r3(1),r3(2),r3(3),'*g');
    pause(0.01)

end

hold off
    %comet3(pos1x,pos1y,pos1z)
    %hold on
    %comet3(pos2x,pos2y,pos2z)
    %hold on
    %comet3(pos3x,pos3y,pos3z)
    